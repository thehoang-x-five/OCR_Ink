import { useLocation } from 'react-router-dom';

interface HeaderProps {
  searchQuery: string;
  onSearchChange: (value: string) => void;
  onToggleTheme?: () => void;
}

const Header = ({ searchQuery, onSearchChange, onToggleTheme }: HeaderProps) => {
  useLocation(); // placeholder if breadcrumbs are needed later

  return (
    <header className="sticky top-0 z-30 border-b border-border/70 bg-background/80 backdrop-blur">
      <div className="flex items-center gap-3 px-4 py-3 sm:px-6 lg:px-8">
        {/* Left: avatar + info */}
        <div className="flex items-center gap-3 min-w-0">
          <div className="flex h-10 w-10 items-center justify-center rounded-full bg-primary/15 text-sm font-semibold text-primary">
            AN
          </div>
          <div className="leading-tight min-w-0">
            <p className="truncate text-sm font-semibold text-foreground">Alex Nguyen</p>
            <p className="truncate text-[11px] text-muted-foreground">Workspace Admin</p>
          </div>
          <div className="hidden flex-col gap-1 pl-3 sm:flex">
            <div className="flex items-center gap-2">
              <span className="text-xs font-semibold uppercase tracking-wide text-muted-foreground">DocText Suite</span>
              <span className="text-[10px] rounded-full bg-primary/10 px-2 py-1 text-primary">OCR & Converter</span>
            </div>
          </div>
        </div>

        {/* Center: search */}
        <div className="relative ml-2 flex-1 max-w-sm sm:max-w-md">
          <span className="pointer-events-none absolute inset-y-0 left-3 flex items-center text-muted-foreground">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
              <circle cx="11" cy="11" r="7" stroke="currentColor" strokeWidth="2" />
              <path d="m16 16 4 4" stroke="currentColor" strokeWidth="2" strokeLinecap="round" />
            </svg>
          </span>
          <input
            value={searchQuery}
            onChange={(e) => onSearchChange(e.target.value)}
            placeholder="Search in OCR results..."
            className="input-modern w-full py-2 pl-14 pr-4 text-xs sm:text-sm"
          />
        </div>

        {/* Right: actions */}
        <div className="flex items-center gap-2 pl-2 text-sm">
          <button
            className="relative flex h-10 w-10 items-center justify-center rounded-full border border-border text-lg transition hover:bg-muted"
            aria-label="Notifications"
          >
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path
                d="M6 10a6 6 0 0 1 12 0v4.5l1.5 2.5H4.5L6 14.5V10Z"
                stroke="currentColor"
                strokeWidth="1.8"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <path
                d="M10 19.5c.5.6 1.2 1 2 1s1.5-.4 2-1"
                stroke="currentColor"
                strokeWidth="1.6"
                strokeLinecap="round"
              />
            </svg>
            <span className="absolute right-2 top-2 h-2 w-2 rounded-full bg-primary" />
          </button>
          {onToggleTheme && (
            <button
              onClick={onToggleTheme}
              className="hidden h-10 w-10 items-center justify-center rounded-full border border-border text-lg transition hover:bg-muted sm:flex"
              aria-label="Toggle theme"
            >
              â˜¼
            </button>
          )}
          <button className="relative flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary">
            <span className="text-sm font-semibold">VN</span>
          </button>
        </div>
      </div>
    </header>
  );
};

export default Header;
